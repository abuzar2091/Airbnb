<header class="flex flex-col">
  <div class="flex justify-between items-center bg-white w-full h-[70px]">
    <div class="flex justify-center items-center gap-4 ml-4">
      <a href="/listings">
        <i class="fa-regular fa-compass ml-4 text-3xl text-red-500"></i>
      </a>
      <p class="text-2xl text-red-500 font-semibold mb-1">
        <a href="/listings">Explore</a>
      </p>
    </div>

    <form method="get" class="hidden md:flex" action="/listings/search?">
      <div class="flex lg:gap-4 gap-2">
        <div class="relative">
          <i
            class="fa-solid fa-magnifying-glass absolute lg:left-4 top-4 left-2"
          ></i>
          <input
            id="searchInput"
            type="text"
            name="destination"
            value=""
            placeholder="Search Destination "
            class="border-gray-300 border-2 py-2 lg:px-10 px-8 rounded-xl"
            
            
          />
        </div>
        <button id="searchBtn"
          class="bg-red-500 hover:bg-red-300 text-white py-2 lg:px-4 px-2 rounded-3xl"
        >
          Search
        </button>
      </div>
    </form>

    <div class="hidden md:flex gap-4 mr-4">
      <p><a href="/listings/new">Airbnb your home</a></p>
      <%if(!currUser){%>
      <p><a href="/signup" class="font-semibold">Signup</a></p>
      <p><a href="/login" class="font-semibold">Signin</a></p>

      <% } else {%>
      <p><a href="/logout" class="font-semibold">Logout</a></p>
      <% } %>
    </div>

   
    
    <div id="hambar" class="md:hidden flex mr-8 hover:opacity-80 transform hover:scale-105 shadow-md">
      <img src="/assets/menu.svg" alt="hambar" />
  </div>
  
  </div>
 <form method="get" class="md:hidden mx-auto " action="/listings/search?">
      <div class="flex lg:gap-4 gap-2">
        <div class="relative">
          <i
            class="fa-solid fa-magnifying-glass absolute lg:left-4 top-4 left-2"
          ></i>
          <input
            id="searchInput"
            type="text"
            name="destination"
            value=""
            placeholder="Search Destination "
            class="border-gray-300 border-2 py-2 lg:px-10 px-8 rounded-xl"
            
            
          />
        </div>
        <button id="searchBtn"
          class="bg-red-500 hover:bg-red-300 text-white py-2 lg:px-4 px-2 rounded-3xl"
        >
          Search
        </button>
      </div>
    </form>
  <div id="small-menu" class="hidden  ml-4 ">
    <p><a href="/listings/new">Airbnb your home</a></p>
    <%if(!currUser){%>
    <p><a href="/signup" class="font-semibold">Signup</a></p>
    <p><a href="/login" class="font-semibold">Signin</a></p>

    <% } else {%>
    <p><a href="/logout" lass="font-semibold">Logout</a></p>
    <% } %>
  </div>

  <div class="border-2 border-gray-100"></div>
</header>
<script>
  let hamBar = document.getElementById("hambar");
  let btns=document.getElementById("searchBtn");
  let searchbar=document.getElementById("searchInput");
  hamBar.addEventListener("click", () => {

    let smallmenu = document.getElementById("small-menu");
    if( smallmenu.style.display !== "inline"){
      smallmenu.style.display = "inline";
    }else{
      smallmenu.style.display = "none"
    }
  });
  btns.addEventListener("click",(e)=>{
    if(!searchbar.value){
      e.preventDefault();
      searchbar.style.border = "2px solid #EF4444"
    }
  })
  searchbar.addEventListener("input", () => {
    if (searchbar.value !== "") {
        searchbar.style.border = ""; // Remove border when input is not empty
    }
});
</script>
